"use strict";!function(t){t.module("app",["smoothScroll","firebase","ui.router","ui.bootstrap","ui.validate","ngAnimate","app.controllers","app.directives","app.services","canvas-raining"]).run(["$rootScope","$state","$window","$firebaseAuth","$location","$anchorScroll","$timeout",function(t,e,n,o,i,r,a){t.$state=e,t.CurrentUser=void 0,o().$onAuthStateChanged(function(e){t.CurrentUser=e?e:void 0}),t.$on("$stateChangeStart",function(e,n,o,i,r){if(t.stateChangeOccuring)return e.preventDefault();t.stateChangeOccuring=!0}),t.$on("$stateChangeSuccess",function(e,n,o,l,s){i.hash(l.name),r(),i.hash(""),a(function(){t.stateChangeOccuring=!1},500)})}]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,n){n.html5Mode({enabled:!0,requireBase:!0}),e.otherwise("404"),t.state("app",{abstract:!0,url:"",templateUrl:"/views/index.html",controller:["$rootScope",function(t){}]}).state("app.home",{url:"/",templateUrl:"/views/home/index.html",controller:"HomeCtrl"}).state("app.about",{url:"/about",templateUrl:"/views/about/index.html"}).state("app.services",{url:"/services",templateUrl:"/views/services/index.html"}).state("app.contact",{url:"/contact",templateUrl:"/views/contact/index.html",controller:"ContactCtrl"}).state("404",{url:"/404",templateUrl:"/views/404/index.html"})}])}(angular),function(t){t.module("app.controllers",["app.services"]).controller("MainNavCtrl",["$rootScope","$scope","$firebaseAuth","$http","$window","$state","$timeout","ModalService","AlertService",function(t,e,n,o,i,r,a,l,s){e.authObj=n(),e.openRegisterAccountModal=function(t){s.reset(),t?(e.closeMobileSideNav(),a(function(){l.openRegisterAccountModal()},300)):l.openRegisterAccountModal()},e.openLoginModal=function(t){s.reset(),t?(e.closeMobileSideNav(),a(function(){l.openLoginModal()},300)):l.openLoginModal()},e.showGettingStarted=!1,e.toggleGettingStarted=function(){return e.showGettingStarted=!e.showGettingStarted,!0},e.showAccountOptions=!1,e.toggleAccountOptions=function(){return e.showAccountOptions=!e.showAccountOptions,!0},e.logOut=function(){return e.authObj.$signOut(),!0},e.closeMobileSideNav=function(){return $("#mobile-side-nav").offcanvas("hide"),!0}}]).controller("LoginCtrl",["$rootScope","$firebaseAuth","$scope","$http","$window","$uibModalInstance","AlertService",function(e,n,o,i,r,a,l,s){var c={email:"",pass:"",cPass:""},u={loginErr:!1,signUpErr:!1};o.serverResponse=t.copy(u),o.authObj=n(),o.newUser=t.copy(c),o.existingUser=t.copy(c),o.submitSignUpForm=function(){o.signUpSubmit=!0,o.authObj.$createUserWithEmailAndPassword(o.newUser.email,o.newUser.pass).then(function(t){o.signUpSubmit=!1,o.closeModal()}).catch(function(t){o.signUpSubmit=!1,l.setAlert({show:!0,type:"error",title:t.message})})},o.submitLoginForm=function(){o.loginSubmit=!0,o.authObj.$signInWithEmailAndPassword(o.existingUser.email,o.existingUser.pass).then(function(t){o.loginSubmit=!1,o.closeModal()}).catch(function(t){o.loginSubmit=!1,l.setAlert({show:!0,type:"error",title:t.message})})},o.loginWithFacebook=function(){o.fbSubmit=!0,o.authObj.$signInWithPopup("facebook").then(function(t){o.fbSubmit=!1,o.closeModal()}).catch(function(t){o.fbSubmit=!1,l.setAlert({show:!0,type:"error",title:t.message})})},o.loginWithTwitter=function(){o.twitSubmit=!0,o.authObj.$signInWithPopup("twitter").then(function(t){o.twitSubmit=!1,o.closeModal()}).catch(function(t){o.twitSubmit=!1,l.setAlert({show:!0,type:"error",title:t.message})})},o.loginWithGoogle=function(){o.googSubmit=!0,o.authObj.$signInWithPopup("google").then(function(t){o.googSubmit=!1,o.closeModal()}).catch(function(t){o.googSubmit=!1,l.setAlert({show:!0,type:"error",title:t.message})})},o.closeModal=function(){a.dismiss("cancel")},o.isPassConfirmed=function(t){return t.signUpForm.newUserPass.$$rawModelValue===t.signUpForm.newUserCPass.$$rawModelValue}}]).controller("AppCtrl",["$rootScope","$state",function(t,e){}]).controller("HomeCtrl",["$scope","$document","$location","$state","smoothScroll",function(t,e,n,o,i){}]).controller("ContactCtrl",["$scope","$http","AlertService",function(t,e,n){t.sendEmail=function(){t.submitSendEmail=!0,e({method:"POST",url:"/api/send-email"}).finally(function(e){t.submitSendEmail=!1,n.setAlert({type:"success",show:!0,title:"Email sent. We will reply back to you as soon as we can."})})}}])}(angular),function(t){t.module("app.directives",["app.controllers"]).directive("mainNav",[function(){return{restrict:"E",replace:!0,templateUrl:"/js/directives/templates/main-nav/main-nav.html",controller:"MainNavCtrl"}}]).directive("mainFooter",[function(){return{restrict:"E",replace:!0,templateUrl:"/js/directives/templates/main-footer/main-footer.html"}}]).directive("alertBox",["AlertService",function(t){return{restrict:"E",templateUrl:function(t,e){return e.theme?"/js/directives/templates/alert-box/"+e.theme+".html":"/js/directives/templates/alert-box/default.html"},link:function(e){e.AlertService=t}}}]).directive("hideNavOnScroll",[function(){return{restrict:"A",link:function(e,n){var o=document.getElementById("top-nav"),i=t.element(o),r=n.scrollTop(),a=!1;n.bind("scroll",function(t){var e=n.scrollTop();e>r?a||i.hasClass("slideOutUp")||(i.hasClass("slideInDown")&&i.removeClass("slideInDown"),i.addClass("slideOutUp"),a=!0,setTimeout(function(){a=!1},500)):a||i.hasClass("slideInDown")||(i.hasClass("slideOutUp")&&i.removeClass("slideOutUp"),i.addClass("slideInDown"),a=!0,setTimeout(function(){a=!1},500)),e<=50&&(i.hasClass("slideInDown")||(i.hasClass("slideOutUp")&&i.removeClass("slideOutUp"),i.addClass("slideInDown"),a=!0,setTimeout(function(){a=!1},500))),r=n.scrollTop()})}}}]).directive("scrollDisabled",["$window","$timeout",function(e,n){return{restrict:"A",link:function(o,i){var r=t.element(e);i.on("show.bs.offcanvas",function(){var e=document.getElementsByTagName("body")[0],o=document.getElementsByTagName("html")[0],i=document.getElementById("app"),r=t.element(e),a=t.element(o);t.element(i);r.addClass("body-scroll-disabled"),a.addClass("html-scroll-disabled"),n(function(){r.ontouchmove=function(t){t.preventDefault()},i.ontouchmove=function(t){t.preventDefault()}},300)}),i.on("hide.bs.offcanvas",function(){var e=document.getElementsByTagName("body")[0],o=document.getElementsByTagName("html")[0],i=t.element(e),a=t.element(o);n(function(){r.scrollTop(400),i.removeClass("body-scroll-disabled"),a.removeClass("html-scroll-disabled"),i.ontouchmove=function(t){return!0},app.ontouchmove=function(t){return!0}},300)})}}}])}(angular),function(t){t.module("app.services",["app.controllers"]).service("ModalService",["$uibModal","$timeout",function(t,e){return{openRegisterAccountModal:function(){t.open({animation:!0,ariaLabelledBy:"register-account-title",ariaDescribedBy:"register-account-body",templateUrl:"register-account-modal.html",controller:"RegisterAccountCtrl",backdrop:!0,size:"md"}).result.then(function(t){}).catch(function(t){})},openLoginModal:function(){t.open({animation:!0,ariaLabelledBy:"login-title",ariaDescribedBy:"login-body",templateUrl:"login-modal.html",controller:"LoginCtrl",backdrop:!0,size:"md"}).result.then(function(t){}).catch(function(t){})}}}]).service("AlertService",["$timeout",function(e){var n={show:!1,type:"success"};return{showAlert:function(){return n.show=!0,!0},hideAlert:function(){return n.show=!1,!0},hasAlert:function(){return n.show},reset:function(){return n={},!0},setAlert:function(e){return console.log("alertObj:",e),n=t.copy(e),"error"==n.type&&n.slimErr&&(n.errList=[],console.log("alert:",n),n.title=n.slimErr&&n.slimErr.data&&n.slimErr.data.exception&&n.slimErr.data.exception[0]&&n.slimErr.data.exception[0].message?n.slimErr.data.exception[0].message:"Error"),!0},getAlert:function(){return n}}}])}(angular),function(t){t.module("canvas-raining",[]).directive("canvasRaining",["$interval",function(t){return{restrict:"A",link:function(e,n){n.ready(function(){function e(){i.clearRect(0,0,r,a);for(var t=0;t<c.length;t++){var e=c[t];i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(e.x+e.l*e.xs,e.y+e.l*e.ys),i.stroke()}o()}function o(){for(var t=0;t<c.length;t++){var e=c[t];e.x+=e.xs+d*(20*Math.random()),e.y+=e.ys,(e.x>r||e.y>a)&&(e.x=Math.random()*r,e.y=-20)}}var i=n[0].getContext("2d"),r=n.width(),a=n.height();i.strokeStyle="rgba(174,194,224,0.5)",i.lineWidth=.5,i.lineCap="round",i.globalCompositeOperation="destination-over";for(var l=[],s=0;s<2e3;s++)l.push({x:Math.random()*r,y:Math.random()*a,l:1*Math.random(),xs:-4+4*Math.random()+2,ys:10*Math.random()+5});for(var c=[],u=0;u<2e3;u++)c[u]=l[u];t(e,60);var d=0;n.bind("mousemove",function(t){d=t.clientX/n.width()-.5})})}}}])}(angular),function(t){t.module("canvas-raining",[]).directive("canvasRaining",["$interval",function(t){return{restrict:"A",link:function(t,e){e.ready(function(){var t=e[0].getContext("2d");e.width(),e.height();t.strokeStyle="rgba(174,194,224,0.5)",t.lineWidth=.5,t.lineCap="round"})}}}])}(angular);